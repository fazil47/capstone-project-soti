<section class="page" style="min-height: 70vh">
  <div class="container">
    <div class="row">
      <div class="col-md-4 rounded" >
        <div class="rounded" style="background-color: #5CB85C; padding:3% ">
          <h2 class="text-center text-white">Edit Product</h2>
          <form #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">
            <input type="hidden" name="Id" [value]="this.PData.id" />
            <input
              type="date"
              style="display: none"
              name="createdDate"
              [value]="this.PData.createdDate"
            />
            <div class="form-outline mb-4">
              <input
                name="ProductName"
                #ProductName="ngModel"
                [(ngModel)]="this.PData.productName"
                placeholder="Product Name"
                class="form-control"
                required
              />
            </div>
            <div class="form-outline mb-4">
              <input
                type="text"
                name="ProductDetails"
                [(ngModel)]="this.PData.productDescription"
                placeholder="Product Description"
                class="form-control"
              />
            </div>
            <div class="form-outline mb-4">
              <input
                name="ProductPrice"
                [(ngModel)]="this.PData.unitPrice"
                placeholder="Unit Price"
                class="form-control"
                required
              />
            </div>
            <div class="form-outline mb-4">
              <input
                name="unitsInStock"
                [(ngModel)]="this.PData.unitsInStock"
                placeholder="Units In Stock"
                class="form-control"
                required
              />
            </div>
            <div class="form-outline mb-4">
              <input
                name="categoryId"
                [(ngModel)]="this.PData.categoryId"
                placeholder="Category Id"
                class="form-control"
                required
              />
            </div>
            <div class="form-outline mb-4">
              <label class="form-check-label" for="checkbox">
                Discontinued &nbsp;&nbsp;
              </label>
              <input
                [(ngModel)]="this.PData.discontinued"
                name="discontinued"
                class="form-check-input"
                type="checkbox"
                value=""
                id="checkbox"
              />
            </div>
            <div class="form-group mt-3">
              <button
                class="btn btn-success btn-lg"
                type="submit"
                [disabled]="form.invalid"
              >
                <i class="fa fa-database"></i> Create/Update Product
              </button>
            </div>
          </form>
        </div>
      </div>
      <div class="col-md-8">
        <h2 class="text-center text-dark">Products Display</h2>
        <div class="container">
          <table
            class="table table-dark table-bordered table-hover rounded-table"
          >
            <thead class="thead-dark">
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Description</th>
                <th>Price</th>
                <th>Stock</th>
                <th>Category Id</th>
                <th>Discontinued</th>
                <th>Delete</th>
              </tr>
            </thead>
            <tbody *ngFor="let p of serv.PList">
              <tr (click)="fillForm(p)" style="cursor: pointer">
                <td>{{ p.id }}</td>
                <td>{{ p.productName }}</td>
                <td>{{ p.productDescription }}</td>
                <td>${{ p.unitPrice }}</td>
                <td>{{ p.unitsInStock }}</td>
                <td>{{ p.categoryId }}</td>
                <td>{{ p.discontinued }}</td>
                <td style="display: none">{{ p.createdDate }}</td>
                <td>
                  <i
                    (click)="delProduct(p.id)"
                    aria-hidden="true"
                    class="fa fa-trash text-danger"
                  ></i>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</section>
